{"id":"src/models/Sync.ts","dependencies":[{"name":"/Users/tranthutrang/Desktop/ts-web/package.json","includedInParent":true,"mtime":1587635026504},{"name":"axios","loc":{"line":6,"column":38},"parent":"/Users/tranthutrang/Desktop/ts-web/src/models/Sync.ts","resolved":"/Users/tranthutrang/Desktop/ts-web/node_modules/axios/index.js"}],"generated":{"js":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar axios_1 = __importDefault(require(\"axios\"));\n\nvar Sync =\n/** @class */\nfunction () {\n  function Sync(rootUrl) {\n    this.rootUrl = rootUrl;\n  }\n\n  Sync.prototype.fetch = function (id) {\n    //when we call fetch, we want to pass in the id, trước đấy là ko có argument, giờ pass arg vào\n    //vẫn gắn void mặc dù cái này return Promise\n    return axios_1.default.get(this.rootUrl + \"/\" + id); // .then((res: AxiosResponse): void => {\n    //   this.set(res.data);\n    // });\n  };\n  /* set data is implemented in User, so we have to make response accessible to User => sửa thành: any time we call fetch, it will return a Promise that will actually RESOLVE WITH the data we get from API (the response). bây giờ fetch ở đây chỉ trả về Promise thôi, còn User tự đi mà set data. => bỏ toàn bộ đoạn .then đi, ko void nữa mà trả về AxiosPromise.\n     So what we're gonna do with save()? when we call save(), we have no indication that the user has been successfully persisted to the BE => Cho save() trả về Promise luôn, so whenever save() is called we will get back some OBJECT we can use to determine whether or not the user was correctly persisted. => thêm return vào trước request\n  */\n\n\n  Sync.prototype.save = function (data) {\n    var id = data.id; //TS ko biết T là type gì nên sẽ ko chắc là có id trên type đó => use Generic constraints\n\n    /* nếu có id, tức là user đã tồn tại trong db, thì sẽ update user đó, nếu chưa có id thì tạo user mới */\n\n    if (id) {\n      return axios_1.default.put(this.rootUrl + \"/\" + id, data);\n    } else {\n      return axios_1.default.post(this.rootUrl, data);\n    }\n  };\n\n  return Sync;\n}();\n\nexports.Sync = Sync;"},"sourceMaps":{"js":{"mappings":[{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":4}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":11}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":14}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":29}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":30}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":37}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":38}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":45}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":46}},{"source":"src/models/Sync.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":13,"column":47}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":15,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":15,"column":4}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":15,"column":8}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":16,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":17,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":17,"column":12}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":18,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":18,"column":11}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":18,"column":15}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":18,"column":16}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":18,"column":23}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":36},"generated":{"line":18,"column":25}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":19,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":19,"column":9}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":19,"column":16}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":19,"column":19}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":19,"column":26}},{"source":"src/models/Sync.ts","name":null,"original":{"line":8,"column":40},"generated":{"line":20,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":2}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":6}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":7}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":16}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":17}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":22}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":25}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":22,"column":35}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":22,"column":37}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":18},"generated":{"line":22,"column":39}},{"source":"src/models/Sync.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":23,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":24,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":25,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":25,"column":11}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":25,"column":18}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":25,"column":19}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":25,"column":26}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":17},"generated":{"line":25,"column":27}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":25,"column":30}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":24},"generated":{"line":25,"column":31}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":29},"generated":{"line":25,"column":36}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":24},"generated":{"line":25,"column":43}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":36},"generated":{"line":25,"column":46}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":24},"generated":{"line":25,"column":49}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":40},"generated":{"line":25,"column":52}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":25,"column":54}},{"source":"src/models/Sync.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":25,"column":55}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":18},"generated":{"line":25,"column":56}},{"source":"src/models/Sync.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":25,"column":57}},{"source":"src/models/Sync.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":26,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":27,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":17,"column":3},"generated":{"line":28,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":28,"column":3}},{"source":"src/models/Sync.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":29,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":2}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":6}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":7}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":16}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":17}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":21}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":24}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":34,"column":34}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":34,"column":38}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":34,"column":40}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":8}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":10}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":13}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":17}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":18}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":35,"column":20}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":35,"column":21}},{"source":"src/models/Sync.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":35,"column":22}},{"source":"src/models/Sync.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":37,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":39,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":39,"column":8}},{"source":"src/models/Sync.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":39,"column":10}},{"source":"src/models/Sync.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":39,"column":12}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":40,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":13}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":20}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":21}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":28}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":40,"column":29}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":32}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":40,"column":33}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":40,"column":38}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":40,"column":45}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":38},"generated":{"line":40,"column":48}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":40,"column":51}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":42},"generated":{"line":40,"column":54}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":56}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":48},"generated":{"line":40,"column":58}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":40,"column":62}},{"source":"src/models/Sync.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":40,"column":63}},{"source":"src/models/Sync.ts","name":null,"original":{"line":30,"column":5},"generated":{"line":41,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":41,"column":5}},{"source":"src/models/Sync.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":41,"column":11}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":42,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":13}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":20}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":21}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":28}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":42,"column":29}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":33}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":42,"column":34}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":29},"generated":{"line":42,"column":39}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":46}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":38},"generated":{"line":42,"column":48}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":42,"column":52}},{"source":"src/models/Sync.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":42,"column":53}},{"source":"src/models/Sync.ts","name":null,"original":{"line":32,"column":5},"generated":{"line":43,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":33,"column":3},"generated":{"line":44,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":44,"column":3}},{"source":"src/models/Sync.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":46,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":46,"column":9}},{"source":"src/models/Sync.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":46,"column":13}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":47,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":47,"column":1}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":47,"column":3}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":49,"column":0}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":49,"column":7}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":49,"column":8}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":49,"column":12}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":49,"column":15}},{"source":"src/models/Sync.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":49,"column":19}}],"sources":{"src/models/Sync.ts":"import axios, { AxiosPromise } from \"axios\";\n\ninterface HasId {\n  id?: number;\n}\n\nexport class Sync<T extends HasId> {\n  constructor(public rootUrl: string) {}\n\n  fetch(id: number): AxiosPromise {\n    //when we call fetch, we want to pass in the id, trước đấy là ko có argument, giờ pass arg vào\n    //vẫn gắn void mặc dù cái này return Promise\n    return axios.get(`${this.rootUrl}/${id}`);\n    // .then((res: AxiosResponse): void => {\n    //   this.set(res.data);\n    // });\n  }\n  /* set data is implemented in User, so we have to make response accessible to User => sửa thành: any time we call fetch, it will return a Promise that will actually RESOLVE WITH the data we get from API (the response). bây giờ fetch ở đây chỉ trả về Promise thôi, còn User tự đi mà set data. => bỏ toàn bộ đoạn .then đi, ko void nữa mà trả về AxiosPromise.\n\n  So what we're gonna do with save()? when we call save(), we have no indication that the user has been successfully persisted to the BE => Cho save() trả về Promise luôn, so whenever save() is called we will get back some OBJECT we can use to determine whether or not the user was correctly persisted. => thêm return vào trước request\n  */\n\n  save(data: T): AxiosPromise {\n    const { id } = data; //TS ko biết T là type gì nên sẽ ko chắc là có id trên type đó => use Generic constraints\n\n    /* nếu có id, tức là user đã tồn tại trong db, thì sẽ update user đó, nếu chưa có id thì tạo user mới */\n\n    if (id) {\n      return axios.put(`${this.rootUrl}/${id}`, data);\n    } else {\n      return axios.post(this.rootUrl, data);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"ee303e747d442aff07584ac8240fd46f","cacheData":{"env":{}}}